<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>Hello world</title>
	<link href="style.css" rel="stylesheet" type="text/css" media="screen" />
	<script src="JS/handlebars.js"></script>
</head>

<body>
	<div class="header">
		<img src="Pictures/Yfitops.png" height="40">
	</div>
	<div class="home">
		<h1>Hello World</h1>
		<p><strong>Yfitops</strong> est une interface graphique permettant de créer des playlists à partir d'une session
			d'écoute de groupe.</p>
		<br><br><br>
		<div class="button-center">
			<button id="connexion">Se connecter à l'application</button>
		</div>
	</div>

	<script type="text/javascript">
		document.getElementById('connexion').addEventListener('click', function () {
			window.location.pathname = '/login'
			/*login(function (accessToken) {
				getMyData();
				getUserData(accessToken)
					.then(function(response) {
						loginButton.style.display = 'none';
						resultsPlaceholder.innerHTML = template(response);
					});*/
			});

		/*function login(callback) {
			console.log('4');
			var CLIENT_ID = '6b284830006843e7ae7b170725715aed';
			var REDIRECT_URI = 'http://jmperezperez.com/spotify-oauth-jsfiddle-proxy/';
			
			function getLoginURL(scopes) {
				return 'https://accounts.spotify.com/authorize?client_id=' + CLIENT_ID +
				  '&redirect_uri=' + encodeURIComponent(REDIRECT_URI) +
				  '&scope=' + encodeURIComponent(scopes.join(' ')) +
				  '&response_type=token';
			}

			var url = getLoginURL([
				'user-read-email'
			]);

			var width = 450,
				height = 730,
				left = (screen.width / 2) - (width / 2),
				top = (screen.height / 2) - (height / 2);

			window.addEventListener("message", function(event) {
				var hash = JSON.parse(event.data);
				console.log('5');
				if (hash.type == 'access_token') {
					callback(hash.access_token);
					console.log(hash.access_token);
				}
			}, false);

			var w = window.open(url,
								'Spotify',
								'menubar=no,location=no,resizable=no,scrollbars=no,status=no, width=' + width + ', height=' + height + ', top=' + top + ', left=' + left
							   );
		}
		function getUserData(accessToken) {
			return $.ajax({
				url: 'https://api.spotify.com/v1/me',
				headers: {
				   'Authorization': 'Bearer ' + accessToken
				}
			});
		}*/
	</script>
</body>

</html>